(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8605:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(9277)}])},9277:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return et}});var t=i(1527),r=i(959),c=i(1080),a=i.n(c),s=i(7986),l=i(1761),o=i(8552),d=i(4981),u=i(808),h=i(4875),_=i.n(h),w=i(2564),m=i(5389),g=i(6441),p=i(5188),f=i(426),S=i(5415),x=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],I=r.forwardRef(function(e,n){var i,t=e.prefixCls,c=void 0===t?"rc-switch":t,a=e.className,s=e.checked,l=e.defaultChecked,o=e.disabled,d=e.loadingIcon,u=e.checkedChildren,h=e.unCheckedChildren,I=e.onClick,$=e.onChange,M=e.onKeyDown,k=(0,p.Z)(e,x),v=(0,f.Z)(!1,{value:s,defaultValue:l}),b=(0,g.Z)(v,2),y=b[0],C=b[1];function N(e,n){var i=y;return o||(C(i=e),null==$||$(i,n)),i}var P=_()(c,a,(i={},(0,m.Z)(i,"".concat(c,"-checked"),y),(0,m.Z)(i,"".concat(c,"-disabled"),o),i));return r.createElement("button",(0,w.Z)({},k,{type:"button",role:"switch","aria-checked":y,disabled:o,className:P,ref:n,onKeyDown:function(e){e.which===S.Z.LEFT?N(!1,e):e.which===S.Z.RIGHT&&N(!0,e),null==M||M(e)},onClick:function(e){var n=N(!y,e);null==I||I(n,e)}}),d,r.createElement("span",{className:"".concat(c,"-inner")},r.createElement("span",{className:"".concat(c,"-inner-checked")},u),r.createElement("span",{className:"".concat(c,"-inner-unchecked")},h)))});I.displayName="Switch";var $=i(6166),M=i(4691),k=i(372),v=i(7094),b=i(9590),y=i(71),C=i(2970),N=i(4541);let P=e=>{let{componentCls:n}=e,i=`${n}-inner`;return{[n]:{[`&${n}-small`]:{minWidth:e.switchMinWidthSM,height:e.switchHeightSM,lineHeight:`${e.switchHeightSM}px`,[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMaxSM,paddingInlineEnd:e.switchInnerMarginMinSM,[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSizeSM+2*e.switchPadding}px - ${2*e.switchInnerMarginMaxSM}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSizeSM+2*e.switchPadding}px + ${2*e.switchInnerMarginMaxSM}px)`},[`${i}-unchecked`]:{marginTop:-e.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:e.switchPinSizeSM,height:e.switchPinSizeSM},[`${n}-loading-icon`]:{top:(e.switchPinSizeSM-e.switchLoadingIconSize)/2,fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMinSM,paddingInlineEnd:e.switchInnerMarginMaxSM,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSizeSM+2*e.switchPadding}px + ${2*e.switchInnerMarginMaxSM}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSizeSM+2*e.switchPadding}px - ${2*e.switchInnerMarginMaxSM}px)`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:e.marginXXS/2,marginInlineEnd:-e.marginXXS/2}},[`&${n}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:-e.marginXXS/2,marginInlineEnd:e.marginXXS/2}}}}}}},j=e=>{let{componentCls:n}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:(e.switchPinSize-e.fontSize)/2,color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},E=e=>{let{componentCls:n}=e,i=`${n}-handle`;return{[n]:{[i]:{position:"absolute",top:e.switchPadding,insetInlineStart:e.switchPadding,width:e.switchPinSize,height:e.switchPinSize,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:e.colorWhite,borderRadius:e.switchPinSize/2,boxShadow:e.switchHandleShadow,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${i}`]:{insetInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding}px)`},[`&:not(${n}-disabled):active`]:{[`${i}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${i}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},z=e=>{let{componentCls:n}=e,i=`${n}-inner`;return{[n]:{[i]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:e.switchInnerMarginMax,paddingInlineEnd:e.switchInnerMarginMin,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${i}-checked, ${i}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSize+2*e.switchPadding}px - ${2*e.switchInnerMarginMax}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSize+2*e.switchPadding}px + ${2*e.switchInnerMarginMax}px)`},[`${i}-unchecked`]:{marginTop:-e.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${i}`]:{paddingInlineStart:e.switchInnerMarginMin,paddingInlineEnd:e.switchInnerMarginMax,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSize+2*e.switchPadding}px + ${2*e.switchInnerMarginMax}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSize+2*e.switchPadding}px - ${2*e.switchInnerMarginMax}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:2*e.switchPadding,marginInlineEnd:-(2*e.switchPadding)}},[`&${n}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:-(2*e.switchPadding),marginInlineEnd:2*e.switchPadding}}}}}},W=e=>{let{componentCls:n}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,N.Wf)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:e.switchMinWidth,height:e.switchHeight,lineHeight:`${e.switchHeight}px`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),(0,N.Qy)(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}};var F=(0,y.Z)("Switch",e=>{let n=e.fontSize*e.lineHeight,i=e.controlHeight/2,t=n-4,r=i-4,c=(0,C.TS)(e,{switchMinWidth:2*t+8,switchHeight:n,switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchInnerMarginMin:t/2,switchInnerMarginMax:t+2+4,switchPadding:2,switchPinSize:t,switchBg:e.colorBgContainer,switchMinWidthSM:2*r+4,switchHeightSM:i,switchInnerMarginMinSM:r/2,switchInnerMarginMaxSM:r+2+4,switchPinSizeSM:r,switchHandleShadow:`0 2px 4px 0 ${new b.C("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:.75*e.fontSizeIcon,switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[W(c),z(c),E(c),j(c),P(c)]}),Z=function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>n.indexOf(t)&&(i[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)0>n.indexOf(t[r])&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(i[t[r]]=e[t[r]]);return i};let O=r.forwardRef((e,n)=>{var{prefixCls:i,size:t,disabled:c,loading:a,className:s,rootClassName:l}=e,o=Z(e,["prefixCls","size","disabled","loading","className","rootClassName"]);let{getPrefixCls:d,direction:h}=r.useContext($.E_),w=r.useContext(k.Z),m=r.useContext(M.Z),g=d("switch",i),p=r.createElement("div",{className:`${g}-handle`},a&&r.createElement(u.Z,{className:`${g}-loading-icon`})),[f,S]=F(g),x=_()({[`${g}-small`]:"small"===(t||w),[`${g}-loading`]:a,[`${g}-rtl`]:"rtl"===h},s,l,S);return f(r.createElement(v.Z,null,r.createElement(I,Object.assign({},o,{prefixCls:g,className:x,disabled:(null!=c?c:m)||a,ref:n,loadingIcon:p}))))});O.__ANT_SWITCH=!0;var D=i(6186);function H(e,n){return e===n}function T(e){return"function"==typeof e?function(){return e}:e}var R=i(8064),A=i(2068),X=i.n(A),U=i(9728),L=i(3686);let{Search:q}=o.Z,Q=()=>{var e,n,i,c,a,s,o,u,h;let[_,w]=(0,r.useState)("all"),[m,g]=(0,r.useState)([]),[p,f]=(0,r.useState)(1),[S,x]=(0,r.useState)(""),[I,$]=(0,r.useState)(!1),[M,k]=(0,r.useState)(1),[v,b]=(0,r.useState)(!1),y=(0,l.v9)(e=>e.user.user),C=(0,r.useRef)({type:_,name:S,page:1}),N=(0,r.useMemo)(()=>_,[m]),[P]=(c=e&&e.equalityFn||H,s=(i=(n=(0,r.useState)(T(v)))[1],a=[n[0],(0,r.useCallback)(function(e){return i(T(e))},[])])[0],o=a[1],u=function(e,n,i){var t=this,c=(0,r.useRef)(null),a=(0,r.useRef)(0),s=(0,r.useRef)(null),l=(0,r.useRef)([]),o=(0,r.useRef)(),d=(0,r.useRef)(),u=(0,r.useRef)(e),h=(0,r.useRef)(!0);(0,r.useEffect)(function(){u.current=e},[e]);var _=!n&&0!==n&&"undefined"!=typeof window;if("function"!=typeof e)throw TypeError("Expected a function");n=+n||0;var w=!!(i=i||{}).leading,m=!("trailing"in i)||!!i.trailing,g="maxWait"in i,p=g?Math.max(+i.maxWait||0,n):null;return(0,r.useEffect)(function(){return h.current=!0,function(){h.current=!1}},[]),(0,r.useMemo)(function(){var e=function(e){var n=l.current,i=o.current;return l.current=o.current=null,a.current=e,d.current=u.current.apply(i,n)},i=function(e,n){_&&cancelAnimationFrame(s.current),s.current=_?requestAnimationFrame(e):setTimeout(e,n)},r=function(e){if(!h.current)return!1;var i=e-c.current;return!c.current||i>=n||i<0||g&&e-a.current>=p},f=function(n){return s.current=null,m&&l.current?e(n):(l.current=o.current=null,d.current)},S=function e(){var t=Date.now();if(r(t))return f(t);if(h.current){var s=n-(t-c.current);i(e,g?Math.min(s,p-(t-a.current)):s)}},x=function(){var u=Date.now(),_=r(u);if(l.current=[].slice.call(arguments),o.current=t,c.current=u,_){if(!s.current&&h.current)return a.current=c.current,i(S,n),w?e(c.current):d.current;if(g)return i(S,n),e(c.current)}return s.current||i(S,n),d.current};return x.cancel=function(){s.current&&(_?cancelAnimationFrame(s.current):clearTimeout(s.current)),a.current=0,l.current=c.current=o.current=s.current=null},x.isPending=function(){return!!s.current},x.flush=function(){return s.current?f(Date.now()):d.current},x},[w,g,n,p,m,_])}((0,r.useCallback)(function(e){return o(e)},[o]),1e3,e),c((h=(0,r.useRef)(v)).current,v)||(u(v),h.current=v),[s,u]),j=(0,D.useMediaQuery)({query:"(max-width: 750px)"}),E=(0,D.useMediaQuery)({query:"(max-width: 500px)"}),z=()=>{!async function(){let e=await (0,L.Z)("all"==C.current.type?"SearchInAll":"SearchInFriends",{page:C.current.page,name:C.current.name});if(e.SearchInAll){if(e.SearchInAll.users){var n,i;"string"==typeof P?g([...e.SearchInAll.users]):(null===(n=e.SearchInAll)||void 0===n?void 0:null===(i=n.users)||void 0===i?void 0:i.length)&&g([...m,...e.SearchInAll.users])}else g([]);e.SearchInAll.total?f(e.SearchInAll.total):f(1),b(!1)}else e.SearchInFriends?(e.SearchInFriends.users?"string"==typeof P?g([...e.SearchInFriends.users]):g([...m,...e.SearchInFriends.users]):g([]),e.SearchInFriends.total?f(e.SearchInFriends.total):f(1),b(!1)):(f(1),b(!1))}()},W=(0,r.useCallback)(e=>{if(k(1),e!==S&&x(e),C.current.name==e)return;let n={type:C.current.type,name:e,page:1};C.current=n,b(e)},[b,C,v,P,S]),F=e=>{if(k(1),e!==S&&x(e.target.value),C.current.name==e)return;let n={type:C.current.type,name:e.target.value,page:1};C.current=n,b(e.target.value)},Z=(0,r.useCallback)(e=>{C.current={page:e,name:S,type:_},b(e)},[p,m,v,C.current,b]),A=e=>{let n=e?"friends":"all";C.current={page:1,name:S,type:n},b(_),w(n),k(1),g([])};return(0,r.useEffect)(()=>{(P||""===P)&&z(),P||v||S===C.current.name||W(S),b(!1)},[P]),(0,r.useEffect)(()=>{C.current={...C.current,page:1},b("user"),y.name||A(!1),k(1)},[y]),(0,t.jsxs)("div",{style:{width:E?"100%":j?"60%":"50%"},className:X().find_user_container,children:[(0,t.jsxs)("div",{className:X().find_user_container_tools,style:{flexDirection:E?"column":"row"},children:[(0,t.jsxs)(d.ZP,{className:I?X().find_user_open_search_animation:X().find_user_open_search_initial,onClick:()=>$(!0),children:[(0,t.jsx)(q,{allowClear:!0,style:{display:!I&&"none"},className:X().user_search,placeholder:"friends"==_?"Search in Friends":"Search",onChange:e=>F(e),onSearch:e=>W(e)}),!I&&(0,t.jsx)(R.wTD,{})]}),(0,t.jsx)(O,{checkedChildren:"Friends",unCheckedChildren:"All",checked:"friends"===_,className:X().search_switch,onChange:e=>A(e),disabled:!y.name,defaultChecked:!1})]}),(0,t.jsx)("div",{className:"centered_users_cont",children:(0,t.jsx)(U.Z,{getUsers:e=>Z(e),total:p,users:m,newPage:M,loadingSearch:v,friends:"friends"===N})})]})};var G=i(6943),K=i(5152),B=i.n(K),Y=i(2657),V=i(3343);let J=e=>{let{news:n,toggleModal:i}=e;return(0,t.jsx)("div",{className:B().welcome_modal,children:(0,t.jsxs)("div",{className:B().welcome_modal_content,children:[(0,t.jsx)(V.Z,{className:B().welcome_modal_close,onClick:()=>i(!1)}),(0,t.jsx)("h3",{className:B().welcome_modal_title,children:n.title}),(0,t.jsx)("p",{className:B().welcome_modal_desc,children:n.description})]})})};var ee=i(5028);let en=()=>{let[e,n]=(0,r.useState)([]),[i,c]=(0,r.useState)(!1),[a,s]=(0,r.useState)(),l=(0,D.useMediaQuery)({query:"(max-width: 750px)"}),o=(0,D.useMediaQuery)({query:"(max-width: 500px)"}),d=e=>{s(e)};return(0,r.useEffect)(()=>{!async function(){c(!0);let e=await (0,L.Z)("GetWelcomeNews");e?(e.GetWelcomeNews&&(e.GetWelcomeNews.errors?n([]):e.GetWelcomeNews&&n(e.GetWelcomeNews)),c(!1)):(c(!1),n([]))}()},[]),(0,t.jsxs)("div",{className:B().welcome_cont,style:{width:o?"100%":l?"40%":"50%"},children:[i&&(0,t.jsx)(ee.Z,{}),a&&(0,t.jsx)(J,{news:e[0],toggleModal:d}),(0,t.jsx)("div",{className:"border_div"}),(0,t.jsxs)("div",{className:B().welcome_content,children:[(0,t.jsx)(G.Z,{style:{fontSize:l?"30px":"40px"},children:"Welcome to Talk Space"}),(0,t.jsx)("p",{className:B().welcome_description,style:{fontSize:l?"20px":"25px"},children:"One of the best ways to communicate with your friends from all around the world"}),(0,t.jsx)("h5",{className:B().welcome_news,children:"News"}),(0,t.jsx)("div",{className:B().news_cont,children:e.map((e,n)=>(0,t.jsxs)("div",{className:B().one_news_cont,onClick:()=>d(e),children:[(0,t.jsx)("h3",{className:B().one_news_cont_title,children:(0,Y.HY)(e.title,10)}),(0,t.jsx)("p",{className:B().one_news_cont_desc,children:(0,Y.HY)(e.description,15)})]},n))})]})]})};var ei=i(4637);function et(){let e=(0,l.I0)(),n=(0,l.v9)(e=>e.socket.socket),i=(0,l.v9)(e=>e.window.menuOption),c=(0,l.v9)(e=>e.user.user),o=(0,D.useMediaQuery)({query:"(max-width: 500px)"});return(0,r.useEffect)(()=>{c.name&&n.on("message",n=>{e((0,ei.kC)(n))})},[c]),(0,t.jsxs)("div",{className:"h-100",children:[(0,t.jsxs)(a(),{children:[(0,t.jsx)("title",{children:"Talk Space"}),(0,t.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.png"})]}),(0,t.jsx)(s.Z,{className:"w-100 h-100",children:o?"news"===i?(0,t.jsx)(en,{}):(0,t.jsx)(Q,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(en,{}),(0,t.jsx)(Q,{})]})})]})}},2068:function(e){e.exports={find_user_container:"FindUser_find_user_container__JkKkT",find_user_open_search:"FindUser_find_user_open_search__6ensc",find_user_open_search_animation:"FindUser_find_user_open_search_animation__ua_qI",find_user_open_search_initial:"FindUser_find_user_open_search_initial__DIlP1",user_search:"FindUser_user_search__SyhPv","ant-input-group-wrapper":"FindUser_ant-input-group-wrapper__RNRpF",find_user_container_tools:"FindUser_find_user_container_tools__uv6gY",search_switch:"FindUser_search_switch__OUmFH"}},5152:function(e){e.exports={welcome_cont:"Welcome_welcome_cont__zKmXP",welcome_content:"Welcome_welcome_content__Nt3Zo",welcome_description:"Welcome_welcome_description___YCDU",welcome_news:"Welcome_welcome_news__y8Kcc",news_cont:"Welcome_news_cont__XL9_C",one_news_cont:"Welcome_one_news_cont__05J_s",one_news_cont_title:"Welcome_one_news_cont_title__hVSwL",one_news_cont_desc:"Welcome_one_news_cont_desc__mfkeM",welcome_modal:"Welcome_welcome_modal__ubVqX",welcome_modal_close:"Welcome_welcome_modal_close__RckIF",welcome_modal_content:"Welcome_welcome_modal_content__BE99T",welcome_modal_title:"Welcome_welcome_modal_title__jBSUO",welcome_modal_desc:"Welcome_welcome_modal_desc__BsQgM"}},1080:function(e,n,i){e.exports=i(5907)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8605)}),_N_E=e.O()}]);